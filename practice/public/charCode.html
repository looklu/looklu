<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>检测字符串的字节长度</title>
</head>
<body>

</body>
<script>
    var str = "hello word !!";
//    function charLength(data){
//        var a=data.length;
//        for(var i=0,le=data.length;i<le;i++){
//            if(data.charCodeAt(i)>255){
//                a ++;
//            }
//        }
//        return a;
//    }

    function charLength(data){
        var a=0;
        for(var i=0,le=data.length;i<le;i++){
            if(data.charCodeAt(i)>255){
                a +=2;
            } else{
                a ++;
            }
        }
        return a;
    }
    console.log(charLength(str));

</script>
</html>